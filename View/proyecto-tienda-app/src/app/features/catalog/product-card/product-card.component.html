<div class="product-card-modern" *ngIf="product">
  <a [routerLink]="['/catalog', product.id]" class="product-img-link">
    <img [src]="product.imageUrl || 'assets/images/placeholder.png'" [alt]="product.name" class="product-img">
  </a>

  <div class="product-body">
    <h3 class="product-title">
      <a [routerLink]="['/catalog', product.id]">
        <i class="fa fa-tag"></i> {{ product.name }}
      </a>
    </h3>

    <p class="product-desc">
      {{ product.description | slice:0:80 }}{{ product.description.length > 80 ? '...' : '' }}
    </p>

    <div class="product-meta">
      <span class="product-price">
        <i class="fa fa-dollar-sign"></i> {{ product.price | currency:'USD' }}
      </span>

      <button (click)="onAddToCart()" [disabled]="!hasStock()" class="btn-cart">
        <i class="fa" [ngClass]="hasStock() ? 'fa-cart-plus' : 'fa-ban'"></i>
        {{ hasStock() ? 'Añadir' : 'Agotado' }}
      </button>
    </div>

    <p *ngIf="isLowStock()" class="stock-warning">
      <i class="fa fa-exclamation-circle"></i> ¡Quedan {{ product.stock }}!
    </p>
  </div>
</div>
